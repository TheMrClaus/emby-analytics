# ======================
# EMBY SERVER CONFIG
# ======================

# Emby server base URL (include port)
EMBY_BASE_URL=http://emby:8096

# Emby API key (Settings → Advanced → API Keys in Emby dashboard)
EMBY_API_KEY=changeme

# External Emby URL (for opening items in new tabs - use your public Emby URL)
EMBY_EXTERNAL_URL=http://your-emby-server:8096

# ======================
# STORAGE PATHS
# ======================

# Optional: SQLite database path (default inside container: /var/lib/emby-analytics/emby.db)
# Uncomment if you want a custom location
# SQLITE_PATH=/var/lib/emby-analytics/emby.db

# Optional: Path to serve static UI files (default inside container: /app/web)
# WEB_PATH=/app/web

# ======================
# POLLING & STREAMING
# ======================

# SSE keepalive interval in seconds
KEEPALIVE_SEC=15

# How often /now/stream polls Emby (seconds)
NOW_POLL_SEC=5

# ======================
# BACKGROUND SYNC
# ======================

# Background sync interval (seconds) - increased from 60 to 300 (5 minutes)
SYNC_INTERVAL=300

# Number of days of history to sync
HISTORY_DAYS=30

# User sync interval (seconds) - increased from 3600 (1hr) to 43200 (12hrs)
USERSYNC_INTERVAL=43200

# ======================
# IMAGE SETTINGS
# ======================

# Image quality (0-100)
IMG_QUALITY=90

# Primary image max width (pixels)
IMG_PRIMARY_MAX_WIDTH=300

# Backdrop image max width (pixels)
IMG_BACKDROP_MAX_WIDTH=1280

# ======================
# ADMIN SETTINGS
# ======================

# Refresh chunk size for admin operations
REFRESH_CHUNK_SIZE=200

# ======================
# SECURITY SETTINGS
# ======================

# Admin token for protecting admin endpoints
# If not set, the server will auto-generate and persist one under the data dir,
# and will enable ADMIN_AUTO_COOKIE automatically for zero-config UI access.
# To provide your own token, uncomment the following line:
# ADMIN_TOKEN=your_secure_admin_token_here

# Webhook secret for validating Emby webhook signatures (REQUIRED for webhook security)
# Generate a secure random secret: openssl rand -hex 32
WEBHOOK_SECRET=your_secure_webhook_secret_here

# Automatically authenticate UI via HttpOnly cookie (sends admin token as cookie)
# WARNING: Enables admin access to anyone who can load the site.
# Use only in private/trusted deployments or behind an auth proxy.
# When ADMIN_TOKEN is not set, this is enabled automatically.
# ADMIN_AUTO_COOKIE=true
